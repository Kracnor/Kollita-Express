<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Collita Expres</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <ul class="navbar">
                <li class="dropdown">
                    <a href="index.html">Inicio</a>
                </li>
                <li class="dropdown">
                    <a href="index.html">Productos</a>
                    <ul class="dropdown-content">
                        <li><a href="normal.html">Coca Machucada</a></li>
                        <li><a href="bebidas.html">Bebidas Energizantes</a></li>
                        <li><a href="potencia.html">Cervezas</a></li>
                        <li><a href="alcoholica.html">Bebidas Alcohólicas</a></li>
                        <li><a href="cigarrillos.html">Cigarrillos</a></li>
                        <li><a href="ofertas.html">Ofertas</a></li>
                        <li><a href="sabores.html">Coca Con Sabores</a></li>
                        <!-- Añade más productos según sea necesario -->
                    </ul> 
                </li>
                <li class="dropdown">
                    <a href="contactos.html">Contacto</a>
                </li>
                <li class="dropdown">
                    <a href="nosotros.html">Sobre Nosotros</a>    
                </li>
            </ul>
        </nav>

        <div class="carrito">
            <img src="imagenes/carrito.png" alt="Carrito" onclick="toggleCarrito()">
        </div>
    </header>

    <section id="home" class="banner">
        <div class="banner-content">
            <div class="banner-text">
                <h1>Disfruta de los mejores sabores de coca y otros</h1>
                <h1>grandes productos</h1>
                <p>Encuentra nuestra variedad de sabores y bebidas.</p>
            </div>
            <div class="banner-logo">
                <img src="imagenes/foto.jpg" alt="Logo de La Collita Expres" />
            </div>
        </div>
    </section>

    <section id="productos">
        <h2>Nuestros Productos</h2>
        
        <div class="productos-grid">
            <div class="producto" onclick="location.href='normal.html';">
                <div class="producto-img-container">
                    <img src="imagenes/coca.jpg" alt="Coca Original" class="producto-img">
                    <div class="producto-info">
                        <h3>Coca Original</h3>
                        <p>El clásico sabor de siempre.</p>
                    </div>
                </div>
            </div>
            <div class="producto" onclick="location.href='sabores.html';">
                <div class="producto-img-container">
                    <img src="imagenes/sabor.png" alt="Coca de Sabores" class="producto-img">
                    <div class="producto-info">
                        <h3>Coca de Sabores</h3>
                        <p>Sabores frutales para todos los gustos.</p>
                    </div>
                </div>
            </div>
            <div class="producto" onclick="location.href='alcoholica.html';">
                <div class="producto-img-container">
                    <img src="imagenes/licores.png" alt="Bebidas Alcohólicas" class="producto-img">
                    <div class="producto-info">
                        <h3>Bebidas Alcohólicas</h3>
                        <p>Variedad de cervezas y licores.</p>
                    </div>
                </div>
            </div>
            <div class="producto" onclick="location.href='bebidas.html';">
                <div class="producto-img-container">
                    <img src="imagenes/redbull.png" alt="Bebidas Energizantes" class="producto-img">
                    <div class="producto-info">
                        <h3>Bebidas Energizantes</h3>
                        <p>Refresca tu día con nuestras bebidas energéticas.</p>
                    </div>
                </div>
            </div>
            <div class="producto" onclick="location.href='ofertas.html';">
                <div class="producto-img-container">
                    <img src="imagenes/oferta.png" alt="Ofertas" class="producto-img">
                    <div class="producto-info">
                        <h3>Ofertas</h3>
                        <p>Ofertas que ofrecemos.</p>
                    </div>
                </div>
            </div>
            <div class="producto" onclick="location.href='Cigarrillos.html';">
                <div class="producto-img-container">
                    <img src="imagenes/cigarro.png" alt="Cigarros" class="producto-img">
                    <div class="producto-info">
                        <h3>Cigarrillos</h3>
                        <p>Un buen pucho.</p>
                    </div>
                </div>
            </div>
            <div class="producto" onclick="location.href='potencia.html';">
                <div class="producto-img-container">
                    <img src="imagenes/cerveza.png" alt="Cervezas" class="producto-img">
                    <div class="producto-info">
                        <h3>Cervezas</h3>
                        <p>Una buena cerveza no hace daño.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="carrito" class="carrito-list" style="display: none;">
        <h2>Carrito de Compras</h2>
        <div id="lista-carrito"></div>
        <p>Total: Bs. <span id="total-carrito">0.00</span></p>
        <button onclick="finalizarCompra()">Finalizar Compra</button>
    </section>

    <footer>
        <div class="contact-info">
            <p>Teléfono: +591 75558238</p>
            <p>Dirección: Zona la Cuchilla, Santa Cruz</p>
        </div>
        <div class="redes-sociales">
            <a href="https://www.facebook.com/profile.php?id=100067494434338" target="_blank"><img src="imagenes/icons8-facebook-30.png" alt="Facebook"> Facebook</a>
            <a href="https://www.instagram.com/coca_machucada_la_kollita/" target="_blank"><img src="imagenes/icons8-instagram-50.png" alt="Instagram"> Instagram</a>
            <a href="https://www.tiktok.com/@cocamachucadalakollita/" target="_blank"><img src="imagenes/icons8-tiktok-30.png" alt="TikTok"> TikTok</a>
            <p>&copy; 2024 La Collita Expres. Todos los derechos reservados</p>
            <div class="qr-code-container">
                <h3>Contáctanos por WhatsApp</h3>
                <img src="imagenes/qr.jpg" alt="Código QR de WhatsApp" class="qr-code">
            </div>
        </div>
    </footer>

    <!-- Modal compra finalizada -->
    <div id="modalCompra" class="modal">
    <div class="modal-content">
        <span class="close" onclick="cerrarModal()">&times;</span>
        <h2 class="modal-title">¡Compra Finalizada!</h2>
        <p class="modal-thank-you">¡Gracias por tu compra!</p>
        <p class="modal-total">Total a pagar: <strong class="total-amount">Bs. <span id="total-final"></span></strong></p>
        <p class="modal-details">Detalles de tu compra:</p>
        <div id="detalles-compra" class="purchase-details" style="margin-bottom: 10px;"></div>
        <div class="qr-payment-container">
            <img src="imagenes/qrcobro.jpg" alt="Código QR para Pago" class="qr-code">
            <p class="qr-instruction">Escanea este código para realizar tu pago.</p>
        </div>
        <button class="modal-close-button" onclick="cerrarModal()">Cerrar</button>
    </div>
</div>


    <script>
        let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
        actualizarCarrito();

        function agregarAlCarrito(nombre, precio) {
            carrito.push({ nombre, precio });
            guardarCarrito();
            actualizarCarrito();
        }

        function actualizarCarrito() {
            const listaCarrito = document.getElementById('lista-carrito');
            listaCarrito.innerHTML = '';

            let totalCarrito = 0;
            carrito.forEach(item => {
                totalCarrito += item.precio;
                const itemCarrito = document.createElement('div');
                itemCarrito.textContent = `${item.nombre} - Bs. ${item.precio.toFixed(2)}`;
                listaCarrito.appendChild(itemCarrito);
            });

            document.getElementById('total-carrito').textContent = totalCarrito.toFixed(2);
        }

        function guardarCarrito() {
            localStorage.setItem('carrito', JSON.stringify(carrito));
        }

        function finalizarCompra() {
            if (carrito.length === 0) {
                alert("El carrito está vacío.");
            } else {
                const total = calcularTotalCarrito();
                document.getElementById('total-final').textContent = total.toFixed(2);
                
                // Limpiar detalles de la compra
                const detallesCompra = document.getElementById('detalles-compra');
                detallesCompra.innerHTML = ''; 
                carrito.forEach(item => {
                    const detalleItem = document.createElement('div');
                    detalleItem.textContent = `${item.nombre} - Bs. ${item.precio.toFixed(2)}`;
                    detallesCompra.appendChild(detalleItem);
                });

                // Mostrar el modal
                const modal = document.getElementById('modalCompra');
                modal.style.display = 'block';

                // Vaciar el carrito
                carrito = [];
                guardarCarrito();
                actualizarCarrito();
            }
        }

        function calcularTotalCarrito() {
            return carrito.reduce((total, item) => total + item.precio, 0);
        }

        function cerrarModal() {
            const modal = document.getElementById('modalCompra');
            modal.style.display = 'none';
        }

        function toggleCarrito() {
            const carritoSection = document.getElementById('carrito');
            carritoSection.style.display = carritoSection.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>
